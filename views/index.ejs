<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Chat-Bot</title>
	<link rel="stylesheet" href="/app.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
	<!-- Bootstrap-->
</head>

<body>
	<div class="container">
		<h1>Hola, bienvenido a Chat-bot</h1>

		<button class="btn btn-primary custom-button" type="button" data-bs-toggle="offcanvas"
			data-bs-target="#offcanvas" aria-controls="offcanvas">
			Settings <span class="bi bi-caret-down-fill"></span>
		</button>
		<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvas" aria-labelledby="offcanvasLabel">
			<div class="offcanvas-header">
				<h5 class="offcanvas-title">Lista de parámetros ajustables</h5>
				<button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
					aria-label="Close"></button>
			</div>
			<div class="offcanvas-body">
				<div>
					En este menú podrás ajustar todos los parámetros del Chat-Bot a tu gusto. Los parámetros que están
					ya puestos son los recomendables.
				</div>
				<div class="dropdown mt-4">
					<button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown"
						id="dropdownMenu">
						Parámetros disponibles
					</button>
					<ul class="dropdown-menu" aria-labelledby="dropdownMenu">
						<li><a href="#" class="dropdown-item">Temperature</a></li>
						<div class="container">
							<input type="range" class="custom-range" min="0" max="1" step="0.1" id="mySlider1"
								value="0.9">
							<span id="sliderValue1">0.9</span>
						</div>
						<li><a href="#" class="dropdown-item">Max tokens</a></li>
						<div class="container">
							<input type="range" class="custom-range" min="1" max="999" id="mySlider2" value="150">
							<span id="sliderValue2">150</span>
						</div>
						<li><a href="#" class="dropdown-item">Top p</a></li>
						<div class="container">
							<input type="range" class="custom-range" min="0" max="1" step="0.1" id="mySlider3"
								value="1">
							<span id="sliderValue3">1</span>
						</div>
						<li><a href="#" class="dropdown-item">Frequency penalty</a></li>
						<div class="container">
							<input type="range" class="custom-range" min="0" max="1" step="0.1" id="mySlider4"
								value="0">
							<span id="sliderValue4">0</span>
						</div>
						<li><a href="#" class="dropdown-item">Presence penalty</a></li>
						<div class="container">
							<input type="range" class="custom-range" min="0" max="1" step="0.1" id="mySlider5"
								value="0.6">
							<span id="sliderValue5">0.6</span>
						</div>
						<div class="text-center">
							<button class="btn btn-primary" type="submit" value="Submit">Guardar valores</button>
						</div>
					</ul>
				</div>
			</div>
		</div>

		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
		<!-- Una libreria para que funcionen cosas de bootstrap-->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
			crossorigin="anonymous"></script> <!-- bootstrap-->
		<!--<script>
			document.addEventListener("DOMContentLoaded", function() {
				let slider1 = document.getElementById("mySlider1");
				let output1 = document.getElementById("sliderValue1");
				
				slider1.addEventListener("input", function() {
					output1.innerHTML = this.value;
				});
				
				output1.innerHTML = slider1.value;
				
				let slider2 = document.getElementById("mySlider2");
				let output2 = document.getElementById("sliderValue2");
				
				slider2.addEventListener("input", function() {
					output2.innerHTML = this.value;
				});
				
				output2.innerHTML = slider2.value;
				
				let slider3 = document.getElementById("mySlider3");
				let output3 = document.getElementById("sliderValue3");
				
				slider3.addEventListener("input", function() {
					output3.innerHTML = this.value;
				});
				
				output3.innerHTML = slider3.value;
				
				let slider4 = document.getElementById("mySlider4");
				let output4 = document.getElementById("sliderValue4");
				
				slider4.addEventListener("input", function() {
					output4.innerHTML = this.value;
				});
				
				output4.innerHTML = slider4.value;
				
				let slider5 = document.getElementById("mySlider5");
				let output5 = document.getElementById("sliderValue5");
				
				slider5.addEventListener("input", function() {
					output5.innerHTML = this.value;
				});
				
				output5.innerHTML = slider5.value;
			});
		</script>  script para que se cambie bien el valor de los sliders-->


		<form action="/test" method="post">
			<div class="message_input">
				<input type="text" class="form-control" placeholder="Escriba un mensaje" name="message"
					aria-label="Recipient's username" aria-describedby="button-addon2">
				<button class="btn btn-outline-secondary" type="submit" id="send_button">Enviar</button>
			</div>
		</form>
		<h2>Respuesta:</h2>
		<% if (respuesta) { %>
			<p>
				<%= respuesta %>
			</p>
			<% } %>

	</div>
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			let slider1 = document.getElementById("mySlider1");
			let output1 = document.getElementById("sliderValue1");

			// SLIDER 1
			slider1.addEventListener("input", function () {
				output1.innerHTML = this.value;
			});

			output1.innerHTML = slider1.value;

			let slider2 = document.getElementById("mySlider2");
			let output2 = document.getElementById("sliderValue2");

			// SLIDER 2
			slider2.addEventListener("input", function () {
				output2.innerHTML = this.value;
			});

			output2.innerHTML = slider2.value;

			let slider3 = document.getElementById("mySlider3");
			let output3 = document.getElementById("sliderValue3");

			// SLIDER 3
			slider3.addEventListener("input", function () {
				output3.innerHTML = this.value;
			});

			output3.innerHTML = slider3.value;

			let slider4 = document.getElementById("mySlider4");
			let output4 = document.getElementById("sliderValue4");

			// SLIDER 4
			slider4.addEventListener("input", function () {
				output4.innerHTML = this.value;
			});

			output4.innerHTML = slider4.value;

			let slider5 = document.getElementById("mySlider5");
			let output5 = document.getElementById("sliderValue5");

			// SLIDER 5
			slider5.addEventListener("input", function () {
				output5.innerHTML = this.value;
			});

			output5.innerHTML = slider5.value;
		});
	</script>
</body>

</html>